import ReactEcharts from "echarts-for-react";
const IndexChart = () => {
  const upColor = "#C3FCC2";
  const upBorderColor = "#86BF8C";
  const downColor = "#EF534F";
  const downBorderColor = "#E5403B";
  const data0 = splitData([
    {
      "7/1/71": 1104,
      "7/2/71": 1088.13,
      "7/3/71": 1100.36,
      "7/4/71": 1060.75,
      "7/5/71": 1011.58,
      "7/6/71": 856.69,
      "7/7/71": 941.83,
      "7/8/71": 956.65,
      "7/9/71": 969.37,
      "7/10/71": 1017.45,
      "7/11/71": 1088.85,
      "7/12/71": 1030.07,
      "7/13/71": 1057.81,
      "7/14/71": 1057.45,
      "7/15/71": 1102.55,
      "7/16/71": 1123.45,
      "7/17/71": 1165.2,
      "7/18/71": 1127.59,
      "7/19/71": 1137.68,
      "7/20/71": 1168.79,
      "7/21/71": 1140.21,
      "7/22/71": 1170.59,
      "7/23/71": 1223.28,
      "7/24/71": 1209.71,
      "7/25/71": 1246.52,
      "7/26/71": 1270.64,
      "7/27/71": 1271.74,
      "7/28/71": 1292.72,
      "7/29/71": 1305.58,
      "7/30/71": 1197.02,
      "7/31/71": 1191.74,
      "8/1/71": 1097,
      "8/2/71": 1059.56,
      "8/3/71": 1144.94,
      "8/4/71": 1188.56,
      "8/5/71": 1191.67,
      "8/6/71": 1272.9,
      "8/7/71": 1291.49,
      "8/8/71": 1309.67,
      "8/9/71": 1305.99,
      "8/10/71": 1271.43,
      "8/11/71": 1337.32,
      "8/12/71": 1398.92,
      "8/13/71": 1438.16,
      "8/14/71": 1439.24,
      "8/15/71": 1474.85,
      "8/16/71": 1466.26,
      "8/17/71": 1519.51,
      "8/18/71": 1518.4,
      "8/19/71": 1577.28,
      "8/20/71": 1530.29,
      "8/21/71": 1540.3,
      "8/22/71": 1555,
      "8/23/71": 1597.17,
      "8/24/71": 1577.15,
      "8/25/71": 1530.34,
      "8/26/71": 1535.04,
      "8/27/71": 1598.77,
      "8/28/71": 1641.46,
      "8/29/71": 1641.11,
      "8/30/71": 1670.44,
      "8/31/71": 1663.17,
      "9/1/71": 1619.93,
      "9/2/71": 1537.54,
      "9/3/71": 1525.98,
      "9/4/71": 1518.91,
      "9/5/71": 1450.52,
      "9/6/71": 1411.46,
      "9/7/71": 1365.68,
      "9/8/71": 1353.59,
      "9/9/71": 1343.87,
      "9/10/71": 1388.43,
      "9/11/71": 1450.28,
      "9/12/71": 1498.92,
      "9/13/71": 1485.59,
      "9/14/71": 1495.23,
      "9/15/71": 1522.44,
      "9/16/71": 1522.57,
      "9/17/71": 1558.47,
      "9/18/71": 1523.31,
      "9/19/71": 1467.94,
      "9/20/71": 1523.23,
      "9/21/71": 1543.15,
      "9/22/71": 1554.74,
      "9/23/71": 1569.47,
      "9/24/71": 1587.82,
      "9/25/71": 1629.08,
      "9/26/71": 1616.32,
      "9/27/71": 1557.48,
      "9/28/71": 1540.13,
      "9/29/71": 1546.43,
      "9/30/71": 1537.42,
      "10/1/71": 1479.86,
      "10/2/71": 1510.19,
      "10/3/71": 1532.09,
      "10/4/71": 1566.76,
      "10/5/71": 1594.75,
      "10/6/71": 1591.81,
      "10/7/71": 1575.17,
      "10/8/71": 1518.08,
      "10/9/71": 1495.38,
      "10/10/71": 1487.08,
      "10/11/71": 1412.66,
      "10/12/71": 1410.69,
      "10/13/71": 1435.22,
      "10/14/71": 1422.63,
      "10/15/71": 1429.62,
      "10/16/71": 1429.6,
      "10/17/71": 1471.68,
      "10/18/71": 1469.43,
      "10/19/71": 1459.86,
      "10/20/71": 1392.04,
    },
    {
      "7/1/71": 1071.66,
      "7/2/71": 1049.4,
      "7/3/71": 1061.2,
      "7/4/71": 953.15,
      "7/5/71": 798.11,
      "7/6/71": 760.58,
      "7/7/71": 799.42,
      "7/8/71": 910.54,
      "7/9/71": 922.04,
      "7/10/71": 934.11,
      "7/11/71": 1014.93,
      "7/12/71": 991.08,
      "7/13/71": 994.49,
      "7/14/71": 1037.66,
      "7/15/71": 1052.99,
      "7/16/71": 1097.46,
      "7/17/71": 1116.46,
      "7/18/71": 1086.48,
      "7/19/71": 1053.31,
      "7/20/71": 1103.06,
      "7/21/71": 1081.15,
      "7/22/71": 1133.28,
      "7/23/71": 1167.8,
      "7/24/71": 1194.8,
      "7/25/71": 1089.68,
      "7/26/71": 1123.26,
      "7/27/71": 1128.35,
      "7/28/71": 1212.55,
      "7/29/71": 1195.8,
      "7/30/71": 1111.23,
      "7/31/71": 1068.73,
      "8/1/71": 1022.12,
      "8/2/71": 918.78,
      "8/3/71": 1028.77,
      "8/4/71": 1129.64,
      "8/5/71": 1165.25,
      "8/6/71": 1180.42,
      "8/7/71": 1223.8,
      "8/8/71": 1280.01,
      "8/9/71": 1227.92,
      "8/10/71": 1243.11,
      "8/11/71": 1268.12,
      "8/12/71": 1335.73,
      "8/13/71": 1384.77,
      "8/14/71": 1399.19,
      "8/15/71": 1439.59,
      "8/16/71": 1414.09,
      "8/17/71": 1428.92,
      "8/18/71": 1435.73,
      "8/19/71": 1463.71,
      "8/20/71": 1499.22,
      "8/21/71": 1506.92,
      "8/22/71": 1505.02,
      "8/23/71": 1530.6,
      "8/24/71": 1480.96,
      "8/25/71": 1478.57,
      "8/26/71": 1473.28,
      "8/27/71": 1530.82,
      "8/28/71": 1596.9,
      "8/29/71": 1621.93,
      "8/30/71": 1619.88,
      "8/31/71": 1532.91,
      "9/1/71": 1517.14,
      "9/2/71": 1481.79,
      "9/3/71": 1465.53,
      "9/4/71": 1413.9,
      "9/5/71": 1411.52,
      "9/6/71": 1365.54,
      "9/7/71": 1325.85,
      "9/8/71": 1297.05,
      "9/9/71": 1307.41,
      "9/10/71": 1328.04,
      "9/11/71": 1379.3,
      "9/12/71": 1446.67,
      "9/13/71": 1456.2,
      "9/14/71": 1456.09,
      "9/15/71": 1460.27,
      "9/16/71": 1495.26,
      "9/17/71": 1514.97,
      "9/18/71": 1436.72,
      "9/19/71": 1437.57,
      "9/20/71": 1465.03,
      "9/21/71": 1510.09,
      "9/22/71": 1527.9,
      "9/23/71": 1528.14,
      "9/24/71": 1547.46,
      "9/25/71": 1584.1,
      "9/26/71": 1545.51,
      "9/27/71": 1519.44,
      "9/28/71": 1507.47,
      "9/29/71": 1528.02,
      "9/30/71": 1463.02,
      "10/1/71": 1451.55,
      "10/2/71": 1462.65,
      "10/3/71": 1504.37,
      "10/4/71": 1490.88,
      "10/5/71": 1559.49,
      "10/6/71": 1566.42,
      "10/7/71": 1518.43,
      "10/8/71": 1453.44,
      "10/9/71": 1451.71,
      "10/10/71": 1397.67,
      "10/11/71": 1353.87,
      "10/12/71": 1380.22,
      "10/13/71": 1397.61,
      "10/14/71": 1397.81,
      "10/15/71": 1398.48,
      "10/16/71": 1387.42,
      "10/17/71": 1428.88,
      "10/18/71": 1447.17,
      "10/19/71": 1385.18,
      "10/20/71": 1364.34,
    },
    {
      "7/1/71": 1078,
      "7/2/71": 1086.87,
      "7/3/71": 1069.4,
      "7/4/71": 1060.75,
      "7/5/71": 944.58,
      "7/6/71": 766.84,
      "7/7/71": 828.17,
      "7/8/71": 953.14,
      "7/9/71": 958.08,
      "7/10/71": 951.56,
      "7/11/71": 1014.93,
      "7/12/71": 1028.16,
      "7/13/71": 1026.13,
      "7/14/71": 1040.9,
      "7/15/71": 1071.01,
      "7/16/71": 1099.88,
      "7/17/71": 1139.13,
      "7/18/71": 1115.81,
      "7/19/71": 1078.89,
      "7/20/71": 1111.99,
      "7/21/71": 1130.34,
      "7/22/71": 1133.28,
      "7/23/71": 1167.8,
      "7/24/71": 1202.65,
      "7/25/71": 1205.57,
      "7/26/71": 1232.75,
      "7/27/71": 1172.06,
      "7/28/71": 1231.05,
      "7/29/71": 1291.41,
      "7/30/71": 1197.02,
      "7/31/71": 1150.57,
      "8/1/71": 1068.57,
      "8/2/71": 1025.81,
      "8/3/71": 1028.77,
      "8/4/71": 1144.89,
      "8/5/71": 1188.45,
      "8/6/71": 1186.01,
      "8/7/71": 1249.77,
      "8/8/71": 1285.06,
      "8/9/71": 1302.04,
      "8/10/71": 1250.82,
      "8/11/71": 1271.43,
      "8/12/71": 1335.73,
      "8/13/71": 1398.47,
      "8/14/71": 1431.39,
      "8/15/71": 1439.59,
      "8/16/71": 1451.21,
      "8/17/71": 1439.55,
      "8/18/71": 1518.4,
      "8/19/71": 1470.38,
      "8/20/71": 1515.79,
      "8/21/71": 1506.92,
      "8/22/71": 1535.51,
      "8/23/71": 1530.6,
      "8/24/71": 1577.15,
      "8/25/71": 1520.3,
      "8/26/71": 1479.75,
      "8/27/71": 1530.82,
      "8/28/71": 1597.56,
      "8/29/71": 1641.11,
      "8/30/71": 1639.99,
      "8/31/71": 1651.53,
      "9/1/71": 1569,
      "9/2/71": 1521.73,
      "9/3/71": 1484.48,
      "9/4/71": 1512.6,
      "9/5/71": 1448.58,
      "9/6/71": 1411.46,
      "9/7/71": 1365.59,
      "9/8/71": 1344.53,
      "9/9/71": 1307.41,
      "9/10/71": 1331.9,
      "9/11/71": 1379.3,
      "9/12/71": 1450.24,
      "9/13/71": 1485.59,
      "9/14/71": 1460.26,
      "9/15/71": 1480.87,
      "9/16/71": 1497.54,
      "9/17/71": 1521.62,
      "9/18/71": 1522.94,
      "9/19/71": 1437.59,
      "9/20/71": 1465.03,
      "9/21/71": 1522.68,
      "9/22/71": 1540.97,
      "9/23/71": 1528.2,
      "9/24/71": 1569.31,
      "9/25/71": 1587.63,
      "9/26/71": 1616.32,
      "9/27/71": 1545.3,
      "9/28/71": 1521.23,
      "9/29/71": 1539.98,
      "9/30/71": 1528.22,
      "10/1/71": 1473.31,
      "10/2/71": 1462.65,
      "10/3/71": 1504.37,
      "10/4/71": 1518.74,
      "10/5/71": 1566.79,
      "10/6/71": 1591.81,
      "10/7/71": 1575.14,
      "10/8/71": 1518.08,
      "10/9/71": 1468.74,
      "10/10/71": 1487.01,
      "10/11/71": 1412.65,
      "10/12/71": 1380.22,
      "10/13/71": 1407.86,
      "10/14/71": 1398.3,
      "10/15/71": 1422.69,
      "10/16/71": 1398.72,
      "10/17/71": 1428.9,
      "10/18/71": 1447.3,
      "10/19/71": 1459.68,
      "10/20/71": 1388.01,
    },
    {
      "7/1/71": 1089.65,
      "7/2/71": 1053.94,
      "7/3/71": 1061.2,
      "7/4/71": 953.15,
      "7/5/71": 798.11,
      "7/6/71": 830.28,
      "7/7/71": 941.54,
      "7/8/71": 953.4,
      "7/9/71": 952.24,
      "7/10/71": 1017.16,
      "7/11/71": 1041.08,
      "7/12/71": 1029.78,
      "7/13/71": 1037.12,
      "7/14/71": 1055.52,
      "7/15/71": 1102.55,
      "7/16/71": 1122.79,
      "7/17/71": 1123.89,
      "7/18/71": 1086.73,
      "7/19/71": 1132.28,
      "7/20/71": 1131.21,
      "7/21/71": 1109.01,
      "7/22/71": 1163.85,
      "7/23/71": 1223.22,
      "7/24/71": 1201.85,
      "7/25/71": 1232.54,
      "7/26/71": 1172.03,
      "7/27/71": 1231.09,
      "7/28/71": 1291.49,
      "7/29/71": 1196.88,
      "7/30/71": 1150.65,
      "7/31/71": 1068.73,
      "8/1/71": 1025.89,
      "8/2/71": 1029.15,
      "8/3/71": 1144.92,
      "8/4/71": 1188.49,
      "8/5/71": 1185.81,
      "8/6/71": 1249.95,
      "8/7/71": 1284.94,
      "8/8/71": 1301.91,
      "8/9/71": 1250.9,
      "8/10/71": 1271.32,
      "8/11/71": 1335.61,
      "8/12/71": 1398.36,
      "8/13/71": 1431.15,
      "8/14/71": 1439.24,
      "8/15/71": 1450.98,
      "8/16/71": 1439.68,
      "8/17/71": 1518.53,
      "8/18/71": 1470.48,
      "8/19/71": 1515.76,
      "8/20/71": 1506.68,
      "8/21/71": 1535.32,
      "8/22/71": 1530.61,
      "8/23/71": 1577.29,
      "8/24/71": 1520.01,
      "8/25/71": 1479.51,
      "8/26/71": 1530.86,
      "8/27/71": 1597.72,
      "8/28/71": 1641.08,
      "8/29/71": 1639.68,
      "8/30/71": 1651.41,
      "8/31/71": 1568.98,
      "9/1/71": 1521.88,
      "9/2/71": 1484.72,
      "9/3/71": 1512.6,
      "9/4/71": 1448.58,
      "9/5/71": 1411.52,
      "9/6/71": 1365.54,
      "9/7/71": 1344.68,
      "9/8/71": 1307.35,
      "9/9/71": 1332.16,
      "9/10/71": 1379.25,
      "9/11/71": 1450.21,
      "9/12/71": 1485.59,
      "9/13/71": 1460.39,
      "9/14/71": 1480.97,
      "9/15/71": 1497.59,
      "9/16/71": 1521.59,
      "9/17/71": 1522.96,
      "9/18/71": 1437.54,
      "9/19/71": 1465.12,
      "9/20/71": 1522.55,
      "9/21/71": 1540.85,
      "9/22/71": 1528.25,
      "9/23/71": 1569.31,
      "9/24/71": 1587.59,
      "9/25/71": 1616.48,
      "9/26/71": 1545.51,
      "9/27/71": 1521.17,
      "9/28/71": 1539.83,
      "9/29/71": 1528.22,
      "9/30/71": 1473.31,
      "10/1/71": 1462.57,
      "10/2/71": 1504.33,
      "10/3/71": 1518.73,
      "10/4/71": 1566.71,
      "10/5/71": 1591.84,
      "10/6/71": 1574.98,
      "10/7/71": 1518.43,
      "10/8/71": 1469.14,
      "10/9/71": 1487.17,
      "10/10/71": 1412.76,
      "10/11/71": 1380.35,
      "10/12/71": 1407.91,
      "10/13/71": 1398.39,
      "10/14/71": 1422.57,
      "10/15/71": 1398.59,
      "10/16/71": 1428.84,
      "10/17/71": 1447.41,
      "10/18/71": 1459.95,
      "10/19/71": 1387.85,
      "10/20/71": 1366.2,
    },
  ]);
  function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
      categoryData.push(rawData[i].splice(0, 1)[0]);
      values.push(rawData[i]);
    }
    return {
      categoryData: categoryData,
      values: values,
    };
  }
  function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data0.values.length; i < len; i++) {
      if (i < dayCount) {
        result.push("-");
        continue;
      }
      var sum = 0;
      for (var j = 0; j < dayCount; j++) {
        sum += +data0.values[i - j][1];
      }
      result.push(sum / dayCount);
    }
    return result;
  }
  const option1 = {
    tooltip: {
      trigger: "axis",
      axisPointer: {
        type: "cross",
      },
    },
    grid: {
      show: true,
      backgroundColor: "#161616",
      left: "10%",
      right: "10%",
      bottom: "15%",
    },
    xAxis: {
      type: "category",
      data: data0.categoryData,
      boundaryGap: false,
      axisLine: { onZero: false },
      splitLine: { show: false },
      min: "dataMin",
      max: "dataMax",
    },
    yAxis: {
      scale: true,
      splitArea: {
        show: true,
      },
    },
    dataZoom: [
      {
        type: "inside",
        start: 50,
        end: 100,
      },
      {
        show: false,
        type: "slider",
        top: "90%",
        start: 50,
        end: 100,
      },
    ],
    series: [
      {
        name: "日K",
        type: "candlestick",
        data: data0.values,
        itemStyle: {
          color: upColor,
          color0: downColor,
          borderColor: upBorderColor,
          borderColor0: downBorderColor,
        },
        markPoint: {
          label: {
            formatter: function (param) {
              return param != null ? Math.round(param.value) + "" : "";
            },
          },
          tooltip: {
            formatter: function (param) {
              return param.name + "<br>" + (param.data.coord || "");
            },
          },
        },
        markLine: {
          symbol: ["none", "none"],
          data: [
            [
              {
                name: "from lowest to highest",
                type: "min",
                valueDim: "lowest",
                symbol: "circle",
                symbolSize: 5,
                label: {
                  show: false,
                },
                emphasis: {
                  label: {
                    show: false,
                  },
                },
              },
              {
                type: "max",
                valueDim: "highest",
                symbol: "circle",
                symbolSize: 5,
                label: {
                  show: false,
                },
                emphasis: {
                  label: {
                    show: false,
                  },
                },
              },
            ],
          ],
        },
      },
      {
        name: "MA5",
        type: "line",
        data: calculateMA(5),
        smooth: true,
        showSymbol: false,
        lineStyle: {
          opacity: 0.8,
        },
      },
      {
        name: "MA10",
        type: "line",
        data: calculateMA(10),
        smooth: true,
        showSymbol: false,
        lineStyle: {
          opacity: 0.8,
          symbolSize: 0.01,
        },
      },
      {
        name: "MA20",
        type: "line",
        data: calculateMA(20),
        smooth: true,
        showSymbol: false,
        lineStyle: {
          opacity: 0.8,
        },
      },
      {
        name: "MA30",
        type: "line",
        data: calculateMA(30),
        smooth: true,
        showSymbol: false,
        lineStyle: {
          opacity: 0.8,
        },
      },
    ],
  };
  return (
    <ReactEcharts
      style={{ height: 450, marginTop: -50, marginLeft: -5 }}
      option={option1}
    />
  );
};

export default IndexChart;
